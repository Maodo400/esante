<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fragment/header :: head}">
<body>
  <div th:insert="~{fragment/header :: my-navbar}"></div>

  <div class="container">
    <h1>Liste des Utilisateurs</h1>

    <a th:href="@{/register}" class="btn btn-primary btn-sm mb-3">
      Add new User </a>

    <table class="table table-striped table-responsive">
      <thead>
        <tr>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=id&sortDir=' + ${reverseSortDir}}">
              ID</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=firstName&sortDir=' + ${reverseSortDir}}">
              Prénom</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=lastName&sortDir=' + ${reverseSortDir}}">
              Nom</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=sexe&sortDir=' + ${reverseSortDir}}">
              Genre</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=email&sortDir=' + ${reverseSortDir}}">
              Email</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=specialite&sortDir=' + ${reverseSortDir}}">
              Profession</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=birthday&sortDir=' + ${reverseSortDir}}">
              Date de Naissance</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=active&sortDir=' + ${reverseSortDir}}">
              Active </a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=adresse&sortDir=' + ${reverseSortDir}}">
              Adresse</a></th>
          <th><a
            th:href="@{'/user/page/' + ${currentPage} + '?sortField=tel&sortDir=' + ${reverseSortDir}}">
              Téléphone</a></th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="user : ${list_users}">
          <td th:text="${user.id}"></td>
          <td th:text="${user.firstName}"></td>
          <td th:text="${user.lastName}"></td>
          <td th:text="${user.sexe}"></td>
          <td th:text="${user.email}"></td>
          <td th:text="${user.specialite}"></td>
          <td th:text="${user.birthday}"></td>
          <td th:text="${user.active}"></td>
          <td th:text="${user.adresse}"></td>
          <td th:text="${user.tel}"></td>
          <td class="text-right">
            <div class="btn-group">
              <a th:href="@{/user/affiche_user/{id}(id=${user.id})}"
                class="btn btn-primary btn-sm">Afficher</a> <a
                th:href="@{/user/update_user/{id}(id=${user.id})}"
                class="btn btn-info btn-sm">Update</a> <a
                th:href="@{/user/delete_user/{id}(id=${user.id})}"
                class="btn btn-danger btn-sm">Delete</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <nav aria-label="Page navigation example" th:if="${totalPages > 5}">
      <ul class="pagination justify-content-center">
        <li class="page-item"><a aria-label="previous"
          class="page-link" th:if="${currentPage -1 > 0}"
          th:href="@{'/user/page/' + ${currentPage - 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">
            <span aria-hidden="true">&laquo;</span> <span
            class="sr-only">Previous</span>
        </a></li>
        <li class="page-item"
          th:each="i: ${#numbers.sequence(1, totalPages)}"><a
          class="page-link"
          th:href="@{'/user/page/' + ${i}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">
            [[${i}]] </a></li>
        <li class="page-item"><a class="page-link"
          th:if="${currentPage < totalPages}"
          th:href="@{'/user/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">
            <span aria-hidden="true">&raquo;</span> <span
            class="sr-only">Next</span>
        </a>
      </ul>
    </nav>
    <!--<div th:if="${totalPages > 1}">
			<div class="row col-sm-10">
				<div class="col-sm-2">Total Rows: [[${totalItems}]]</div>
				<div class="col-sm-1">
					<span th:each="i: ${#numbers.sequence(1, totalPages)}"> <a
						th:if="${currentPage != i}"
						th:href="@{'/user/page/' + ${i}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">[[${i}]]</a>
						<span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp;
						&nbsp;
					</span>
				</div>
								<div class = "col-sm-1">
									<a th:if="${currentPage < totalPages}" th:href="@{'/user/page/' + ${currentPage - 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Previous</a>
									<span th:unless="${currentPage < totalPages}">Previous</span>
								</div>
				<div class="col-sm-1">
					<a th:if="${currentPage < totalPages}"
						th:href="@{'/user/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Next</a>
					<span th:unless="${currentPage < totalPages}">Next</span>
				</div>

				<div class="col-sm-1">
					<a th:if="${currentPage < totalPages}"
						th:href="@{'/user/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir}}">Last</a>
					<span th:unless="${currentPage < totalPages}">Last</span>
				</div>
			</div>
		</div>-->
  </div>
  <div th:insert="~{fragment/header :: footer}"></div>